
# postgres
devture_postgres_connection_password: TODO64

# homeserver https://matrix.example.com
matrix_domain: example.com
matrix_admin: "@test:{{ matrix_domain }}"
matrix_ssl_lets_encrypt_support_email: test@test.com
matrix_mailer_enabled: no
matrix_client_element_enabled: no

# initial users
matrix_user_creator_users_additional:
 - username: test
   initial_password: TODO64
   initial_type: admin

# synapse
matrix_homeserver_implementation: synapse
matrix_synapse_presence_enabled: yes
matrix_synapse_enable_registration: yes
matrix_synapse_registration_requires_token: yes
matrix_synapse_max_upload_size_mb: 1024
matrix_synapse_media_retention_remote_media_lifetime: 7d
matrix_synapse_tmp_directory_size_mb: "{{ matrix_synapse_max_upload_size_mb * 2 }}"

# synapse::federation
matrix_synapse_allow_public_rooms_over_federation: yes
matrix_synapse_allow_public_rooms_without_auth: yes

# synapse::custom
matrix_synapse_configuration_extension_yaml: |
  disable_msisdn_registration: yes

# synapse::privacy
matrix_synapse_user_ips_max_age: 5m
matrix_synapse_redaction_retention_period: 5m

# synapse::extensions::shared_secret_auth
matrix_synapse_ext_password_provider_shared_secret_auth_enabled: yes
matrix_synapse_ext_password_provider_shared_secret_auth_shared_secret: TODO64

# synapse::mailer
matrix_synapse_email_enabled: yes
matrix_synapse_email_smtp_host: TODO
matrix_synapse_email_smtp_port: TODO
matrix_synapse_email_smtp_user: TODO
matrix_synapse_email_smtp_pass: TODO

# synapse::credentials
matrix_synapse_macaroon_secret_key: TODO64
matrix_synapse_password_config_pepper: TODO64
matrix_coturn_turn_static_auth_secret: TODO64
matrix_homeserver_generic_secret_key: "{{ matrix_synapse_macaroon_secret_key }}"

# nginx proxy
matrix_nginx_proxy_access_log_enabled: no
matrix_nginx_proxy_base_domain_serving_enabled: yes
matrix_nginx_proxy_base_domain_homepage_enabled: no

# postgres::backups
devture_postgres_backup_enabled: yes
devture_postgres_backup_schedule: '@daily'
devture_postgres_backup_keep_days: 7
devture_postgres_backup_keep_weeks: 0
devture_postgres_backup_keep_months: 0

# etherpad
etherpad_enabled: yes
matrix_server_fqn_etherpad: "etherpad.{{ matrix_domain }}"
etherpad_admin_username: test
etherpad_admin_password: TODO64

# synapse-admin https://matrix.example.com/synapse-admin
matrix_synapse_admin_enabled: yes
