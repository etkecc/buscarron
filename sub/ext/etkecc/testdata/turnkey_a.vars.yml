# etke services
etke_service_server_cpx21: yes

# ssh
system_security_ssh_authorizedkeys_host:
  - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEt3k0bEgBjfZRqU3MvWla8sgUUsm5mJRYu2CWYcYDCz user@host

# postgres
devture_postgres_connection_password: TODO64

# homeserver https://matrix.example.com
matrix_domain: example.com
matrix_admin: "@test:{{ matrix_domain }}"
matrix_ssl_lets_encrypt_support_email: test@test.com
matrix_client_element_enabled: no

# initial users
matrix_user_creator_users_additional:
 - username: test
   initial_password: TODO64
   initial_type: admin

# synapse
matrix_homeserver_implementation: synapse
matrix_synapse_presence_enabled: yes
matrix_synapse_enable_registration: yes
matrix_synapse_registration_requires_token: yes
matrix_synapse_max_upload_size_mb: 1024
matrix_synapse_media_retention_remote_media_lifetime: 7d
matrix_synapse_tmp_directory_size_mb: "{{ matrix_synapse_max_upload_size_mb * 2 }}"

# synapse::federation
matrix_synapse_allow_public_rooms_over_federation: yes
matrix_synapse_allow_public_rooms_without_auth: yes

# synapse::custom
matrix_synapse_configuration_extension_yaml: |
  disable_msisdn_registration: yes

# synapse::privacy
matrix_synapse_user_ips_max_age: 5m
matrix_synapse_redaction_retention_period: 5m

# synapse::extensions::shared_secret_auth
matrix_synapse_ext_password_provider_shared_secret_auth_enabled: yes
matrix_synapse_ext_password_provider_shared_secret_auth_shared_secret: TODO64

# synapse::credentials
matrix_synapse_macaroon_secret_key: TODO64
matrix_synapse_password_config_pepper: TODO64
matrix_coturn_turn_static_auth_secret: TODO64
matrix_homeserver_generic_secret_key: "{{ matrix_synapse_macaroon_secret_key }}"

# traefik
matrix_playbook_reverse_proxy_type: playbook-managed-traefik
devture_traefik_config_certificatesResolvers_acme_email: test@test.com

# nginx proxy
matrix_nginx_proxy_access_log_enabled: no
matrix_nginx_proxy_base_domain_serving_enabled: no
matrix_nginx_proxy_base_domain_homepage_enabled: no
